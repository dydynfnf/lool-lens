; generated by ARM C/C++ Compiler, 4.1 [Build 791]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\obj\guiaachar4.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\obj\guiaachar4.d --cpu=Cortex-M3 --apcs=interwork -O0 -I.\FWlib\inc -I.\user -I.\CM3 -I.\TFT -I.\GUI\AntiAlias -I.\GUI\Config -I.\GUI\ConvertColor -I.\GUI\ConvertMono -I.\GUI\Core -I.\GUI\Font -I.\GUI\GUI_X -I.\GUI\JPEG -I.\GUI\LCDDriver -I.\GUI\MemDev -I.\GUI\MultiLayer -I.\GUI\Widget -I.\GUI\WM -Id:\Keil\ARM\CMSIS\Include -Id:\Keil\ARM\INC\ST\STM32F10x -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD -DUSE_STM3210B_EVAL --omf_browse=.\obj\guiaachar4.crf GUI\AntiAlias\GUIAAChar4.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  Draw PROC
;;;36     */
;;;37     static void Draw(int x0, int y0, int XSize, int YSize, int BytesPerLine, const U8*pData) {
000000  e92d5ff0          PUSH     {r4-r12,lr}
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4691              MOV      r9,r2
00000a  469b              MOV      r11,r3
;;;38       int x, y;
;;;39       tLCD_SetPixelAA* pfSetPixelAA;
;;;40       pfSetPixelAA = (GUI_Context.TextMode && GUI_TM_TRANS) ?
00000c  4851              LDR      r0,|L1.340|
00000e  8d40              LDRH     r0,[r0,#0x2a]  ; GUI_Context
000010  b110              CBZ      r0,|L1.24|
000012  bf00              NOP      
;;;41                      LCD_SetPixelAA : LCD_SetPixelAA_NoTrans;
000014  4850              LDR      r0,|L1.344|
000016  e000              B        |L1.26|
                  |L1.24|
000018  4850              LDR      r0,|L1.348|
                  |L1.26|
00001a  4682              MOV      r10,r0
;;;42       for (y=0; y<YSize; y++) {
00001c  f04f0400          MOV      r4,#0
000020  e028              B        |L1.116|
                  |L1.34|
;;;43         const U8*pData0 = pData;
000022  f8dd802c          LDR      r8,[sp,#0x2c]
;;;44         for (x=0; x<XSize-1; x+=2) {
000026  f04f0500          MOV      r5,#0
00002a  e00f              B        |L1.76|
                  |L1.44|
;;;45           (*pfSetPixelAA)(x+x0,y0+y,   (*pData0)>>4); /* x0+x changed -> x+x0 to avoid problems with IAR's ICCMC80 */
00002c  f8983000          LDRB     r3,[r8,#0]
000030  111a              ASRS     r2,r3,#4
000032  1939              ADDS     r1,r7,r4
000034  19a8              ADDS     r0,r5,r6
000036  47d0              BLX      r10
;;;46           (*pfSetPixelAA)(x0+x+1,y0+y, (*pData0++)&15);
000038  f818cb01          LDRB     r12,[r8],#1
00003c  f00c020f          AND      r2,r12,#0xf
000040  1939              ADDS     r1,r7,r4
000042  1973              ADDS     r3,r6,r5
000044  1c58              ADDS     r0,r3,#1
000046  47d0              BLX      r10
000048  f1050502          ADD      r5,r5,#2              ;44
                  |L1.76|
00004c  f1a90001          SUB      r0,r9,#1              ;44
000050  42a8              CMP      r0,r5                 ;44
000052  dceb              BGT      |L1.44|
;;;47       	}
;;;48         if (XSize&1) {
000054  f0190f01          TST      r9,#1
000058  d006              BEQ      |L1.104|
;;;49           (*pfSetPixelAA)(x0+x,y0+y, (*pData0)&15);
00005a  f8983000          LDRB     r3,[r8,#0]
00005e  f003020f          AND      r2,r3,#0xf
000062  1939              ADDS     r1,r7,r4
000064  1970              ADDS     r0,r6,r5
000066  47d0              BLX      r10
                  |L1.104|
;;;50         }
;;;51         pData+=BytesPerLine;
000068  e9dd100a          LDRD     r1,r0,[sp,#0x28]
00006c  4408              ADD      r0,r0,r1
00006e  900b              STR      r0,[sp,#0x2c]
000070  f1040401          ADD      r4,r4,#1              ;42
                  |L1.116|
000074  455c              CMP      r4,r11                ;42
000076  dbd4              BLT      |L1.34|
;;;52       }
;;;53     }
000078  e8bd9ff0          POP      {r4-r12,pc}
;;;54     
                          ENDP

                  GUIPROP_FindChar PROC
;;;58     */
;;;59     static const GUI_FONT_PROP* GUIPROP_FindChar(const GUI_FONT_PROP* pProp, U16P c) {
00007c  4a35              LDR      r2,|L1.340|
;;;60       for (pProp = GUI_Context.pAFont->p.pProp; pProp; pProp=(const GUI_FONT_PROP*) pProp->pNext) {
00007e  6992              LDR      r2,[r2,#0x18]  ; GUI_Context
000080  6990              LDR      r0,[r2,#0x18]
000082  e007              B        |L1.148|
                  |L1.132|
;;;61         if ((c>=pProp->First) && (c<=pProp->Last))
000084  8802              LDRH     r2,[r0,#0]
000086  428a              CMP      r2,r1
000088  dc03              BGT      |L1.146|
00008a  8842              LDRH     r2,[r0,#2]
00008c  428a              CMP      r2,r1
00008e  db00              BLT      |L1.146|
;;;62           break;
000090  e002              B        |L1.152|
                  |L1.146|
000092  6880              LDR      r0,[r0,#8]            ;60
                  |L1.148|
000094  2800              CMP      r0,#0                 ;60
000096  d1f5              BNE      |L1.132|
                  |L1.152|
000098  bf00              NOP      
;;;63       }
;;;64       return pProp;
;;;65     }
00009a  4770              BX       lr
;;;66     
                          ENDP

                  GUIPROP_AA4_DispChar PROC
;;;76     */
;;;77     void GUIPROP_AA4_DispChar(U16P c) {
00009c  e92d47fc          PUSH     {r2-r10,lr}
0000a0  4605              MOV      r5,r0
;;;78       int BytesPerLine;
;;;79       GUI_DRAWMODE DrawMode = GUI_Context.TextMode;
0000a2  482c              LDR      r0,|L1.340|
0000a4  f9b0802a          LDRSH    r8,[r0,#0x2a]  ; GUI_Context
;;;80       const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
0000a8  4601              MOV      r1,r0
0000aa  6989              LDR      r1,[r1,#0x18]  ; GUI_Context
0000ac  6988              LDR      r0,[r1,#0x18]
0000ae  4629              MOV      r1,r5
0000b0  f7fffffe          BL       GUIPROP_FindChar
0000b4  4606              MOV      r6,r0
;;;81       if (pProp) {
0000b6  b33e              CBZ      r6,|L1.264|
;;;82         GUI_DRAWMODE OldDrawMode;
;;;83         const GUI_CHARINFO* pCharInfo = pProp->paCharInfo+(c-pProp->First);
0000b8  8831              LDRH     r1,[r6,#0]
0000ba  eba50101          SUB      r1,r5,r1
0000be  6870              LDR      r0,[r6,#4]
0000c0  eb0004c1          ADD      r4,r0,r1,LSL #3
;;;84         BytesPerLine = pCharInfo->BytesPerLine;
0000c4  78a7              LDRB     r7,[r4,#2]
;;;85         OldDrawMode  = LCD_SetDrawMode(DrawMode);
0000c6  4640              MOV      r0,r8
0000c8  f7fffffe          BL       LCD_SetDrawMode
0000cc  4681              MOV      r9,r0
;;;86         Draw  ( GUI_Context.DispPosX, GUI_Context.DispPosY,
0000ce  6860              LDR      r0,[r4,#4]
0000d0  f8dfc080          LDR      r12,|L1.340|
0000d4  e9cd7000          STRD     r7,r0,[sp,#0]
0000d8  f8dcc018          LDR      r12,[r12,#0x18]  ; GUI_Context
0000dc  f89c3014          LDRB     r3,[r12,#0x14]
0000e0  7822              LDRB     r2,[r4,#0]
0000e2  f8dfc070          LDR      r12,|L1.340|
0000e6  f9bc1024          LDRSH    r1,[r12,#0x24]  ; GUI_Context
0000ea  f9bc0022          LDRSH    r0,[r12,#0x22]  ; GUI_Context
0000ee  f7fffffe          BL       Draw
;;;87                            pCharInfo->XSize,
;;;88                            GUI_Context.pAFont->YSize,
;;;89                            BytesPerLine,
;;;90                            (U8 const*)pCharInfo->pData
;;;91                            );
;;;92         LCD_SetDrawMode(OldDrawMode); /* Restore draw mode */
0000f2  4648              MOV      r0,r9
0000f4  f7fffffe          BL       LCD_SetDrawMode
;;;93         GUI_Context.DispPosX += pCharInfo->XDist;
0000f8  4816              LDR      r0,|L1.340|
0000fa  8c40              LDRH     r0,[r0,#0x22]  ; GUI_Context
0000fc  7861              LDRB     r1,[r4,#1]
0000fe  4408              ADD      r0,r0,r1
000100  b200              SXTH     r0,r0
000102  4914              LDR      r1,|L1.340|
000104  8448              STRH     r0,[r1,#0x22]
;;;94       }
000106  bf00              NOP      
                  |L1.264|
;;;95     }
000108  e8bd87fc          POP      {r2-r10,pc}
;;;96     
                          ENDP

                  GUIPROP_AA4_GetCharDistX PROC
;;;100    */
;;;101    int GUIPROP_AA4_GetCharDistX(U16P c) {
00010c  b570              PUSH     {r4-r6,lr}
00010e  4604              MOV      r4,r0
;;;102      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
000110  4910              LDR      r1,|L1.340|
000112  6989              LDR      r1,[r1,#0x18]  ; GUI_Context
000114  6988              LDR      r0,[r1,#0x18]
000116  4621              MOV      r1,r4
000118  f7fffffe          BL       GUIPROP_FindChar
00011c  4605              MOV      r5,r0
;;;103      return (pProp) ? (pProp->paCharInfo+(c-pProp->First))->XSize : 0;
00011e  b12d              CBZ      r5,|L1.300|
000120  8829              LDRH     r1,[r5,#0]
000122  1a61              SUBS     r1,r4,r1
000124  6868              LDR      r0,[r5,#4]
000126  f8100031          LDRB     r0,[r0,r1,LSL #3]
                  |L1.298|
;;;104    }
00012a  bd70              POP      {r4-r6,pc}
                  |L1.300|
00012c  2000              MOVS     r0,#0                 ;103
00012e  e7fc              B        |L1.298|
;;;105    
                          ENDP

                  GUIPROP_AA4_GetFontInfo PROC
;;;109    */
;;;110    void GUIPROP_AA4_GetFontInfo(const GUI_FONT * pFont, GUI_FONTINFO* pfi) {
000130  bf00              NOP      
;;;111      GUI_USE_PARA(pFont);
;;;112      pfi->Flags = GUI_FONTINFO_FLAG_PROP | GUI_FONTINFO_FLAG_AA4;
000132  f04f0211          MOV      r2,#0x11
000136  800a              STRH     r2,[r1,#0]
;;;113    }
000138  4770              BX       lr
;;;114    
                          ENDP

                  GUIPROP_AA4_IsInFont PROC
;;;118    */
;;;119    char GUIPROP_AA4_IsInFont(const GUI_FONT * pFont, U16 c) {
00013a  b570              PUSH     {r4-r6,lr}
00013c  4604              MOV      r4,r0
00013e  460d              MOV      r5,r1
;;;120      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(pFont->p.pProp, c);
000140  4629              MOV      r1,r5
000142  69a0              LDR      r0,[r4,#0x18]
000144  f7fffffe          BL       GUIPROP_FindChar
000148  4606              MOV      r6,r0
;;;121      return (pProp==NULL) ? 0 : 1;
00014a  b10e              CBZ      r6,|L1.336|
00014c  2001              MOVS     r0,#1
                  |L1.334|
;;;122    }
00014e  bd70              POP      {r4-r6,pc}
                  |L1.336|
000150  2000              MOVS     r0,#0                 ;121
000152  e7fc              B        |L1.334|
;;;123    
                          ENDP

                  |L1.340|
                          DCD      GUI_Context
                  |L1.344|
                          DCD      LCD_SetPixelAA
                  |L1.348|
                          DCD      LCD_SetPixelAA_NoTrans
