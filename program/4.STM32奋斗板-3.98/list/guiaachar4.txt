; generated by Component: ARM Compiler 5.05 update 2 (build 169) Tool: ArmCC [4d0f38]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\obj\guiaachar4.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\obj\guiaachar4.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I.\FWlib\inc -I.\user -I.\CM3 -I.\TFT -I.\GUI\AntiAlias -I.\GUI\Config -I.\GUI\ConvertColor -I.\GUI\ConvertMono -I.\GUI\Core -I.\GUI\Font -I.\GUI\GUI_X -I.\GUI\JPEG -I.\GUI\LCDDriver -I.\GUI\MemDev -I.\GUI\MultiLayer -I.\GUI\Widget -I.\GUI\WM -IC:\Users\Administrator\Desktop\gui\STM32·Ü¶·°å-3.98\RTE -Id:\Keil_v5\ARM\PACK\ARM\CMSIS\4.3.0\CMSIS\Include -Id:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\1.1.0\Device\Include -D__UVISION_VERSION=515 -D_RTE_ -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD -DUSE_STM3210B_EVAL --omf_browse=.\obj\guiaachar4.crf GUI\AntiAlias\GUIAAChar4.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  Draw PROC
;;;36     */
;;;37     static void Draw(int x0, int y0, int XSize, int YSize, int BytesPerLine, const U8*pData) {
000000  e92d5ff0          PUSH     {r4-r12,lr}
000004  4606              MOV      r6,r0
000006  460f              MOV      r7,r1
000008  4691              MOV      r9,r2
00000a  469b              MOV      r11,r3
;;;38       int x, y;
;;;39       tLCD_SetPixelAA* pfSetPixelAA;
;;;40       pfSetPixelAA = (GUI_Context.TextMode && GUI_TM_TRANS) ?
00000c  484e              LDR      r0,|L1.328|
00000e  8d40              LDRH     r0,[r0,#0x2a]  ; GUI_Context
000010  b108              CBZ      r0,|L1.22|
000012  484e              LDR      r0,|L1.332|
000014  e000              B        |L1.24|
                  |L1.22|
000016  484e              LDR      r0,|L1.336|
                  |L1.24|
000018  4682              MOV      r10,r0
;;;41                      LCD_SetPixelAA : LCD_SetPixelAA_NoTrans;
;;;42       for (y=0; y<YSize; y++) {
00001a  2400              MOVS     r4,#0
00001c  e025              B        |L1.106|
                  |L1.30|
;;;43         const U8*pData0 = pData;
00001e  f8dd802c          LDR      r8,[sp,#0x2c]
;;;44         for (x=0; x<XSize-1; x+=2) {
000022  2500              MOVS     r5,#0
000024  e00e              B        |L1.68|
                  |L1.38|
;;;45           (*pfSetPixelAA)(x+x0,y0+y,   (*pData0)>>4); /* x0+x changed -> x+x0 to avoid problems with IAR's ICCMC80 */
000026  f8983000          LDRB     r3,[r8,#0]
00002a  111a              ASRS     r2,r3,#4
00002c  1939              ADDS     r1,r7,r4
00002e  19a8              ADDS     r0,r5,r6
000030  47d0              BLX      r10
;;;46           (*pfSetPixelAA)(x0+x+1,y0+y, (*pData0++)&15);
000032  f818cb01          LDRB     r12,[r8],#1
000036  f00c020f          AND      r2,r12,#0xf
00003a  1939              ADDS     r1,r7,r4
00003c  1973              ADDS     r3,r6,r5
00003e  1c58              ADDS     r0,r3,#1
000040  47d0              BLX      r10
000042  1cad              ADDS     r5,r5,#2              ;44
                  |L1.68|
000044  f1a90001          SUB      r0,r9,#1              ;44
000048  42a8              CMP      r0,r5                 ;44
00004a  dcec              BGT      |L1.38|
;;;47       	}
;;;48         if (XSize&1) {
00004c  f0090001          AND      r0,r9,#1
000050  b130              CBZ      r0,|L1.96|
;;;49           (*pfSetPixelAA)(x0+x,y0+y, (*pData0)&15);
000052  f8983000          LDRB     r3,[r8,#0]
000056  f003020f          AND      r2,r3,#0xf
00005a  1939              ADDS     r1,r7,r4
00005c  1970              ADDS     r0,r6,r5
00005e  47d0              BLX      r10
                  |L1.96|
;;;50         }
;;;51         pData+=BytesPerLine;
000060  e9dd100a          LDRD     r1,r0,[sp,#0x28]
000064  4408              ADD      r0,r0,r1
000066  900b              STR      r0,[sp,#0x2c]
000068  1c64              ADDS     r4,r4,#1              ;42
                  |L1.106|
00006a  455c              CMP      r4,r11                ;42
00006c  dbd7              BLT      |L1.30|
;;;52       }
;;;53     }
00006e  e8bd9ff0          POP      {r4-r12,pc}
;;;54     
                          ENDP

                  GUIPROP_FindChar PROC
;;;58     */
;;;59     static const GUI_FONT_PROP* GUIPROP_FindChar(const GUI_FONT_PROP* pProp, U16P c) {
000072  4a35              LDR      r2,|L1.328|
;;;60       for (pProp = GUI_Context.pAFont->p.pProp; pProp; pProp=(const GUI_FONT_PROP*) pProp->pNext) {
000074  69d2              LDR      r2,[r2,#0x1c]  ; GUI_Context
000076  6990              LDR      r0,[r2,#0x18]
000078  e007              B        |L1.138|
                  |L1.122|
;;;61         if ((c>=pProp->First) && (c<=pProp->Last))
00007a  8802              LDRH     r2,[r0,#0]
00007c  428a              CMP      r2,r1
00007e  dc03              BGT      |L1.136|
000080  8842              LDRH     r2,[r0,#2]
000082  428a              CMP      r2,r1
000084  db00              BLT      |L1.136|
;;;62           break;
000086  e002              B        |L1.142|
                  |L1.136|
000088  6880              LDR      r0,[r0,#8]            ;60
                  |L1.138|
00008a  2800              CMP      r0,#0                 ;60
00008c  d1f5              BNE      |L1.122|
                  |L1.142|
00008e  bf00              NOP      
;;;63       }
;;;64       return pProp;
;;;65     }
000090  4770              BX       lr
;;;66     
                          ENDP

                  GUIPROP_AA4_DispChar PROC
;;;76     */
;;;77     void GUIPROP_AA4_DispChar(U16P c) {
000092  e92d47fc          PUSH     {r2-r10,lr}
000096  4605              MOV      r5,r0
;;;78       int BytesPerLine;
;;;79       GUI_DRAWMODE DrawMode = GUI_Context.TextMode;
000098  482b              LDR      r0,|L1.328|
00009a  f9b0802a          LDRSH    r8,[r0,#0x2a]  ; GUI_Context
;;;80       const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
00009e  4601              MOV      r1,r0
0000a0  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
0000a2  6988              LDR      r0,[r1,#0x18]
0000a4  4629              MOV      r1,r5
0000a6  f7fffffe          BL       GUIPROP_FindChar
0000aa  4606              MOV      r6,r0
;;;81       if (pProp) {
0000ac  b336              CBZ      r6,|L1.252|
;;;82         GUI_DRAWMODE OldDrawMode;
;;;83         const GUI_CHARINFO* pCharInfo = pProp->paCharInfo+(c-pProp->First);
0000ae  8831              LDRH     r1,[r6,#0]
0000b0  1a69              SUBS     r1,r5,r1
0000b2  6870              LDR      r0,[r6,#4]
0000b4  eb0004c1          ADD      r4,r0,r1,LSL #3
;;;84         BytesPerLine = pCharInfo->BytesPerLine;
0000b8  78a7              LDRB     r7,[r4,#2]
;;;85         OldDrawMode  = LCD_SetDrawMode(DrawMode);
0000ba  4640              MOV      r0,r8
0000bc  f7fffffe          BL       LCD_SetDrawMode
0000c0  4681              MOV      r9,r0
;;;86         Draw  ( GUI_Context.DispPosX, GUI_Context.DispPosY,
0000c2  6860              LDR      r0,[r4,#4]
0000c4  f8dfc080          LDR      r12,|L1.328|
0000c8  e9cd7000          STRD     r7,r0,[sp,#0]
0000cc  f8dcc01c          LDR      r12,[r12,#0x1c]  ; GUI_Context
0000d0  f89c3014          LDRB     r3,[r12,#0x14]
0000d4  7822              LDRB     r2,[r4,#0]
0000d6  f8dfc070          LDR      r12,|L1.328|
0000da  f9bc1024          LDRSH    r1,[r12,#0x24]  ; GUI_Context
0000de  f9bc0022          LDRSH    r0,[r12,#0x22]  ; GUI_Context
0000e2  f7fffffe          BL       Draw
;;;87                            pCharInfo->XSize,
;;;88                            GUI_Context.pAFont->YSize,
;;;89                            BytesPerLine,
;;;90                            (U8 const*)pCharInfo->pData
;;;91                            );
;;;92         LCD_SetDrawMode(OldDrawMode); /* Restore draw mode */
0000e6  4648              MOV      r0,r9
0000e8  f7fffffe          BL       LCD_SetDrawMode
;;;93         GUI_Context.DispPosX += pCharInfo->XDist;
0000ec  4816              LDR      r0,|L1.328|
0000ee  8c40              LDRH     r0,[r0,#0x22]  ; GUI_Context
0000f0  7861              LDRB     r1,[r4,#1]
0000f2  4408              ADD      r0,r0,r1
0000f4  b200              SXTH     r0,r0
0000f6  4914              LDR      r1,|L1.328|
0000f8  8448              STRH     r0,[r1,#0x22]
;;;94       }
0000fa  bf00              NOP      
                  |L1.252|
;;;95     }
0000fc  e8bd87fc          POP      {r2-r10,pc}
;;;96     
                          ENDP

                  GUIPROP_AA4_GetCharDistX PROC
;;;100    */
;;;101    int GUIPROP_AA4_GetCharDistX(U16P c) {
000100  b570              PUSH     {r4-r6,lr}
000102  4604              MOV      r4,r0
;;;102      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
000104  4910              LDR      r1,|L1.328|
000106  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
000108  6988              LDR      r0,[r1,#0x18]
00010a  4621              MOV      r1,r4
00010c  f7fffffe          BL       GUIPROP_FindChar
000110  4605              MOV      r5,r0
;;;103      return (pProp) ? (pProp->paCharInfo+(c-pProp->First))->XSize : 0;
000112  b12d              CBZ      r5,|L1.288|
000114  8829              LDRH     r1,[r5,#0]
000116  1a61              SUBS     r1,r4,r1
000118  6868              LDR      r0,[r5,#4]
00011a  f8100031          LDRB     r0,[r0,r1,LSL #3]
                  |L1.286|
;;;104    }
00011e  bd70              POP      {r4-r6,pc}
                  |L1.288|
000120  2000              MOVS     r0,#0                 ;103
000122  e7fc              B        |L1.286|
;;;105    
                          ENDP

                  GUIPROP_AA4_GetFontInfo PROC
;;;109    */
;;;110    void GUIPROP_AA4_GetFontInfo(const GUI_FONT * pFont, GUI_FONTINFO* pfi) {
000124  bf00              NOP      
;;;111      GUI_USE_PARA(pFont);
;;;112      pfi->Flags = GUI_FONTINFO_FLAG_PROP | GUI_FONTINFO_FLAG_AA4;
000126  2211              MOVS     r2,#0x11
000128  800a              STRH     r2,[r1,#0]
;;;113    }
00012a  4770              BX       lr
;;;114    
                          ENDP

                  GUIPROP_AA4_IsInFont PROC
;;;118    */
;;;119    char GUIPROP_AA4_IsInFont(const GUI_FONT * pFont, U16 c) {
00012c  b570              PUSH     {r4-r6,lr}
00012e  4604              MOV      r4,r0
000130  460d              MOV      r5,r1
;;;120      const GUI_FONT_PROP* pProp = GUIPROP_FindChar(pFont->p.pProp, c);
000132  4629              MOV      r1,r5
000134  69a0              LDR      r0,[r4,#0x18]
000136  f7fffffe          BL       GUIPROP_FindChar
00013a  4606              MOV      r6,r0
;;;121      return (pProp==NULL) ? 0 : 1;
00013c  b10e              CBZ      r6,|L1.322|
00013e  2001              MOVS     r0,#1
                  |L1.320|
;;;122    }
000140  bd70              POP      {r4-r6,pc}
                  |L1.322|
000142  2000              MOVS     r0,#0                 ;121
000144  e7fc              B        |L1.320|
;;;123    
                          ENDP

000146  0000              DCW      0x0000
                  |L1.328|
                          DCD      GUI_Context
                  |L1.332|
                          DCD      LCD_SetPixelAA
                  |L1.336|
                          DCD      LCD_SetPixelAA_NoTrans
