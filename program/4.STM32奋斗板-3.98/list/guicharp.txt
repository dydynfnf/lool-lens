; generated by Component: ARM Compiler 5.05 update 2 (build 169) Tool: ArmCC [4d0f38]
; commandline ArmCC [--list --debug -c --asm --interleave -o.\obj\guicharp.o --asm_dir=.\list\ --list_dir=.\list\ --depend=.\obj\guicharp.d --cpu=Cortex-M3 --apcs=interwork -O0 --diag_suppress=9931 -I.\FWlib\inc -I.\user -I.\CM3 -I.\TFT -I.\GUI\AntiAlias -I.\GUI\Config -I.\GUI\ConvertColor -I.\GUI\ConvertMono -I.\GUI\Core -I.\GUI\Font -I.\GUI\GUI_X -I.\GUI\JPEG -I.\GUI\LCDDriver -I.\GUI\MemDev -I.\GUI\MultiLayer -I.\GUI\Widget -I.\GUI\WM -IC:\Users\Administrator\Desktop\gui\STM32·Ü¶·°å-3.98\RTE -Id:\Keil_v5\ARM\PACK\ARM\CMSIS\4.3.0\CMSIS\Include -Id:\Keil_v5\ARM\PACK\Keil\STM32F1xx_DFP\1.1.0\Device\Include -D__UVISION_VERSION=515 -D_RTE_ -DSTM32F10X_HD -DUSE_STDPERIPH_DRIVER -DSTM32F10X_HD -DUSE_STM3210B_EVAL --omf_browse=.\obj\guicharp.crf GUI\Core\GUICharP.c]
                          THUMB

                          AREA ||.text||, CODE, READONLY, ALIGN=2

                  GUIPROP_FindChar PROC
;;;32     */
;;;33     static const GUI_FONT_PROP GUI_UNI_PTR * GUIPROP_FindChar(const GUI_FONT_PROP GUI_UNI_PTR* pProp, U16P c) {
000000  e007              B        |L1.18|
                  |L1.2|
;;;34       for (; pProp; pProp = pProp->pNext) {
;;;35         if ((c>=pProp->First) && (c<=pProp->Last))
000002  8802              LDRH     r2,[r0,#0]
000004  428a              CMP      r2,r1
000006  dc03              BGT      |L1.16|
000008  8842              LDRH     r2,[r0,#2]
00000a  428a              CMP      r2,r1
00000c  db00              BLT      |L1.16|
;;;36           break;
00000e  e002              B        |L1.22|
                  |L1.16|
000010  6880              LDR      r0,[r0,#8]            ;34
                  |L1.18|
000012  2800              CMP      r0,#0                 ;34
000014  d1f5              BNE      |L1.2|
                  |L1.22|
000016  bf00              NOP      
;;;37       }
;;;38       return pProp;
;;;39     }
000018  4770              BX       lr
;;;40     
                          ENDP

                  GUIPROP_DispChar PROC
;;;54     */
;;;55     void GUIPROP_DispChar(U16P c) {
00001a  e92d4ff0          PUSH     {r4-r11,lr}
00001e  b087              SUB      sp,sp,#0x1c
000020  4605              MOV      r5,r0
;;;56       int BytesPerLine;
;;;57       GUI_DRAWMODE DrawMode = GUI_Context.TextMode;
000022  4860              LDR      r0,|L1.420|
000024  f9b0802a          LDRSH    r8,[r0,#0x2a]  ; GUI_Context
;;;58       const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
000028  4601              MOV      r1,r0
00002a  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
00002c  6988              LDR      r0,[r1,#0x18]
00002e  4629              MOV      r1,r5
000030  f7fffffe          BL       GUIPROP_FindChar
000034  4606              MOV      r6,r0
;;;59       if (pProp) {
000036  2e00              CMP      r6,#0
000038  d07d              BEQ      |L1.310|
;;;60         GUI_DRAWMODE OldDrawMode;
;;;61         const GUI_CHARINFO GUI_UNI_PTR * pCharInfo = pProp->paCharInfo+(c-pProp->First);
00003a  8831              LDRH     r1,[r6,#0]
00003c  1a69              SUBS     r1,r5,r1
00003e  6870              LDR      r0,[r6,#4]
000040  eb0004c1          ADD      r4,r0,r1,LSL #3
;;;62         BytesPerLine = pCharInfo->BytesPerLine;
000044  78a7              LDRB     r7,[r4,#2]
;;;63         OldDrawMode  = LCD_SetDrawMode(DrawMode);
000046  4640              MOV      r0,r8
000048  f7fffffe          BL       LCD_SetDrawMode
00004c  9006              STR      r0,[sp,#0x18]
;;;64         if (GUI_MoveRTL) {
00004e  4856              LDR      r0,|L1.424|
000050  7800              LDRB     r0,[r0,#0]  ; GUI_MoveRTL
000052  b158              CBZ      r0,|L1.108|
;;;65           GUI_Context.DispPosX -= pCharInfo->XDist * GUI_Context.pAFont->XMag;
000054  4853              LDR      r0,|L1.420|
000056  f9b00022          LDRSH    r0,[r0,#0x22]  ; GUI_Context
00005a  7861              LDRB     r1,[r4,#1]
00005c  4a51              LDR      r2,|L1.420|
00005e  69d2              LDR      r2,[r2,#0x1c]  ; GUI_Context
000060  7d92              LDRB     r2,[r2,#0x16]
000062  fb010012          MLS      r0,r1,r2,r0
000066  b200              SXTH     r0,r0
000068  494e              LDR      r1,|L1.420|
00006a  8448              STRH     r0,[r1,#0x22]
                  |L1.108|
;;;66         }
;;;67         LCD_DrawBitmap( GUI_Context.DispPosX, GUI_Context.DispPosY,
00006c  494d              LDR      r1,|L1.420|
00006e  2201              MOVS     r2,#1
000070  6860              LDR      r0,[r4,#4]
000072  e9cd2702          STRD     r2,r7,[sp,#8]
000076  e9cd0104          STRD     r0,r1,[sp,#0x10]
00007a  4608              MOV      r0,r1
00007c  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
00007e  7dc0              LDRB     r0,[r0,#0x17]
000080  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
000082  7d89              LDRB     r1,[r1,#0x16]
000084  f8dfc11c          LDR      r12,|L1.420|
000088  e9cd1000          STRD     r1,r0,[sp,#0]
00008c  f8dcc01c          LDR      r12,[r12,#0x1c]  ; GUI_Context
000090  f89c3014          LDRB     r3,[r12,#0x14]
000094  7822              LDRB     r2,[r4,#0]
000096  f8dfc10c          LDR      r12,|L1.420|
00009a  f9bc1024          LDRSH    r1,[r12,#0x24]  ; GUI_Context
00009e  f9bc0022          LDRSH    r0,[r12,#0x22]  ; GUI_Context
0000a2  f7fffffe          BL       LCD_DrawBitmap
;;;68                            pCharInfo->XSize,
;;;69     											 GUI_Context.pAFont->YSize,
;;;70                            GUI_Context.pAFont->XMag,
;;;71     											 GUI_Context.pAFont->YMag,
;;;72                            1,     /* Bits per Pixel */
;;;73                            BytesPerLine,
;;;74                            pCharInfo->pData,
;;;75                            &LCD_BKCOLORINDEX
;;;76                            );
;;;77         /* Fill empty pixel lines */
;;;78         if (GUI_Context.pAFont->YDist > GUI_Context.pAFont->YSize) {
0000a6  483f              LDR      r0,|L1.420|
0000a8  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
0000aa  7d40              LDRB     r0,[r0,#0x15]
0000ac  493d              LDR      r1,|L1.420|
0000ae  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
0000b0  7d09              LDRB     r1,[r1,#0x14]
0000b2  4288              CMP      r0,r1
0000b4  dd37              BLE      |L1.294|
;;;79           int YMag = GUI_Context.pAFont->YMag;
0000b6  483b              LDR      r0,|L1.420|
0000b8  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
0000ba  f8909017          LDRB     r9,[r0,#0x17]
;;;80           int YDist = GUI_Context.pAFont->YDist * YMag;
0000be  4839              LDR      r0,|L1.420|
0000c0  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
0000c2  7d40              LDRB     r0,[r0,#0x15]
0000c4  fb00fa09          MUL      r10,r0,r9
;;;81           int YSize = GUI_Context.pAFont->YSize * YMag;
0000c8  4836              LDR      r0,|L1.420|
0000ca  69c0              LDR      r0,[r0,#0x1c]  ; GUI_Context
0000cc  7d00              LDRB     r0,[r0,#0x14]
0000ce  fb00fb09          MUL      r11,r0,r9
;;;82           if (DrawMode != LCD_DRAWMODE_TRANS) {
0000d2  f1b80f02          CMP      r8,#2
0000d6  d025              BEQ      |L1.292|
;;;83             LCD_COLOR OldColor = GUI_GetColor();
0000d8  f7fffffe          BL       GUI_GetColor
0000dc  9005              STR      r0,[sp,#0x14]
;;;84             GUI_SetColor(GUI_GetBkColor());
0000de  f7fffffe          BL       GUI_GetBkColor
0000e2  9004              STR      r0,[sp,#0x10]
0000e4  f7fffffe          BL       GUI_SetColor
;;;85             LCD_FillRect(GUI_Context.DispPosX, 
0000e8  f8dfc0b8          LDR      r12,|L1.420|
0000ec  f9bcc022          LDRSH    r12,[r12,#0x22]  ; GUI_Context
0000f0  f894e000          LDRB     lr,[r4,#0]
0000f4  eb0c020e          ADD      r2,r12,lr
0000f8  f8dfc0a8          LDR      r12,|L1.420|
0000fc  f9bcc024          LDRSH    r12,[r12,#0x24]  ; GUI_Context
000100  eb0c030a          ADD      r3,r12,r10
000104  f8dfc09c          LDR      r12,|L1.420|
000108  f9bcc024          LDRSH    r12,[r12,#0x24]  ; GUI_Context
00010c  eb0c010b          ADD      r1,r12,r11
000110  f8dfc090          LDR      r12,|L1.420|
000114  f9bc0022          LDRSH    r0,[r12,#0x22]  ; GUI_Context
000118  f7fffffe          BL       LCD_FillRect
;;;86                          GUI_Context.DispPosY + YSize, 
;;;87                          GUI_Context.DispPosX + pCharInfo->XSize, 
;;;88                          GUI_Context.DispPosY + YDist);
;;;89             GUI_SetColor(OldColor);
00011c  9805              LDR      r0,[sp,#0x14]
00011e  f7fffffe          BL       GUI_SetColor
;;;90           }
000122  bf00              NOP      
                  |L1.292|
;;;91         }
000124  bf00              NOP      
                  |L1.294|
;;;92         LCD_SetDrawMode(OldDrawMode); /* Restore draw mode */
000126  9806              LDR      r0,[sp,#0x18]
000128  f7fffffe          BL       LCD_SetDrawMode
;;;93         if (!GUI_MoveRTL) {
00012c  481e              LDR      r0,|L1.424|
00012e  7800              LDRB     r0,[r0,#0]  ; GUI_MoveRTL
000130  b968              CBNZ     r0,|L1.334|
;;;94           GUI_Context.DispPosX += pCharInfo->XDist * GUI_Context.pAFont->XMag;
000132  481c              LDR      r0,|L1.420|
000134  e000              B        |L1.312|
                  |L1.310|
000136  e00b              B        |L1.336|
                  |L1.312|
000138  f9b00022          LDRSH    r0,[r0,#0x22]  ; GUI_Context
00013c  7861              LDRB     r1,[r4,#1]
00013e  4a19              LDR      r2,|L1.420|
000140  69d2              LDR      r2,[r2,#0x1c]  ; GUI_Context
000142  7d92              LDRB     r2,[r2,#0x16]
000144  fb010002          MLA      r0,r1,r2,r0
000148  b200              SXTH     r0,r0
00014a  4916              LDR      r1,|L1.420|
00014c  8448              STRH     r0,[r1,#0x22]
                  |L1.334|
;;;95         }
;;;96       }
00014e  bf00              NOP      
                  |L1.336|
;;;97     }
000150  b007              ADD      sp,sp,#0x1c
000152  e8bd8ff0          POP      {r4-r11,pc}
;;;98     
                          ENDP

                  GUIPROP_GetCharDistX PROC
;;;102    */
;;;103    int GUIPROP_GetCharDistX(U16P c) {
000156  b570              PUSH     {r4-r6,lr}
000158  4604              MOV      r4,r0
;;;104      const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(GUI_Context.pAFont->p.pProp, c);
00015a  4912              LDR      r1,|L1.420|
00015c  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
00015e  6988              LDR      r0,[r1,#0x18]
000160  4621              MOV      r1,r4
000162  f7fffffe          BL       GUIPROP_FindChar
000166  4605              MOV      r5,r0
;;;105      return (pProp) ? (pProp->paCharInfo+(c-pProp->First))->XSize * GUI_Context.pAFont->XMag : 0;
000168  b14d              CBZ      r5,|L1.382|
00016a  8829              LDRH     r1,[r5,#0]
00016c  1a61              SUBS     r1,r4,r1
00016e  6868              LDR      r0,[r5,#4]
000170  f8100031          LDRB     r0,[r0,r1,LSL #3]
000174  490b              LDR      r1,|L1.420|
000176  69c9              LDR      r1,[r1,#0x1c]  ; GUI_Context
000178  7d89              LDRB     r1,[r1,#0x16]
00017a  4348              MULS     r0,r1,r0
                  |L1.380|
;;;106    }
00017c  bd70              POP      {r4-r6,pc}
                  |L1.382|
00017e  2000              MOVS     r0,#0                 ;105
000180  e7fc              B        |L1.380|
;;;107    
                          ENDP

                  GUIPROP_GetFontInfo PROC
;;;111    */
;;;112    void GUIPROP_GetFontInfo(const GUI_FONT GUI_UNI_PTR * pFont, GUI_FONTINFO* pfi) {
000182  bf00              NOP      
;;;113      GUI_USE_PARA(pFont);
;;;114      pfi->Flags = GUI_FONTINFO_FLAG_PROP;
000184  2201              MOVS     r2,#1
000186  800a              STRH     r2,[r1,#0]
;;;115    }
000188  4770              BX       lr
;;;116    
                          ENDP

                  GUIPROP_IsInFont PROC
;;;120    */
;;;121    char GUIPROP_IsInFont(const GUI_FONT GUI_UNI_PTR * pFont, U16 c) {
00018a  b570              PUSH     {r4-r6,lr}
00018c  4604              MOV      r4,r0
00018e  460d              MOV      r5,r1
;;;122      const GUI_FONT_PROP GUI_UNI_PTR * pProp = GUIPROP_FindChar(pFont->p.pProp, c);
000190  4629              MOV      r1,r5
000192  69a0              LDR      r0,[r4,#0x18]
000194  f7fffffe          BL       GUIPROP_FindChar
000198  4606              MOV      r6,r0
;;;123      return (pProp==NULL) ? 0 : 1;
00019a  b10e              CBZ      r6,|L1.416|
00019c  2001              MOVS     r0,#1
                  |L1.414|
;;;124    }
00019e  bd70              POP      {r4-r6,pc}
                  |L1.416|
0001a0  2000              MOVS     r0,#0                 ;123
0001a2  e7fc              B        |L1.414|
;;;125    
                          ENDP

                  |L1.420|
                          DCD      GUI_Context
                  |L1.424|
                          DCD      GUI_MoveRTL
